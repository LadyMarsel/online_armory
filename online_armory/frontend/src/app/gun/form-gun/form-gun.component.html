<div class="form-container">
    <form *ngIf="gun" (ngSubmit)="onSubmit()" #gunForm="ngForm">

        <div class="form-group">
            <label for="name">Nom:</label>
            <input type="text" class="form-control" id="name" 
                required    
                [(ngModel)]="gun.name" name="name"
                #name="ngModel">
        </div>

        <div class="form-group">
            <label for="company">Fabricant:</label>
            <select class="form-control" id="company"
                required    
                [(ngModel)]="gun.company" name="company"
                #company="ngModel" >
                <option *ngFor="let company of companies" [value]="company.id">{{ company.name }}</option>
            </select>
        </div>

        <div class="form-group">
            <label for="gunType">Type:</label>
            <select class="form-control" id="gunType"
                required    
                [(ngModel)]="gun.gunType" name="gunType"
                #gunType="ngModel" >
                <option *ngFor="let gunType of gunTypes" [value]="gunType">{{ gunType }}</option>
            </select>
        </div>

        <div class="form-group">
            <label for="caliber">Calibre:</label>
            <select class="form-control" id="caliber"
                required    
                [(ngModel)]="gun.caliber" name="caliber"
                #caliber="ngModel" >
                <option *ngFor="let caliber of calibers" [value]="country">{{ caliber }}</option>
            </select>
        </div>

        <div class="form-group">
            <label for="rearmingMode">Réarmement:</label>
            <select class="form-control" id="rearmingMode"
                required    
                [(ngModel)]="gun.rearmingMode" name="rearmingMode"
                #rearmingMode="ngModel" >
                <option *ngFor="let rearmingMode of rearmingModes" [value]="rearmingMode">{{ rearmingMode }}</option>
            </select>
        </div>

        <div class="form-group">
            <label for="internalMechanic">Méchanique:</label>
            <select class="form-control" id="internalMechanic"
                required    
                [(ngModel)]="gun.internalMechanic" name="internalMechanic"
                #internalMechanic="ngModel" >
                <option *ngFor="let internalMechanic of internalMechanics" [value]="internalMechanic">{{ internalMechanic }}</option>
            </select>
        </div>

        <div class="form-group">
            <label for="country">Pays:</label>
            <select class="form-control" id="country"
                required    
                [(ngModel)]="gun.country" name="country"
                #country="ngModel" >
                <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
            </select>
        </div>

        <div class="form-group">
            <label for="year">Année de création:</label>
            <input type="number" class="form-control" id="year"
                required    
                [(ngModel)]="gun.year" name="year"
                #year="ngModel">
            <!-- year picker library here ? -->
        </div>

        <div class="form-group">
            <label for="description">Description:</label>
            <textarea class="form-control" id="description" 
                required    
                [(ngModel)]="gun.description" name="description"
                #description="ngModel">
            </textarea>
        </div>

        <div class="form-group">
            <label for="img">Image:</label>
            <input type="url" class="form-control" id="img"
                required
                [(ngModel)]="gun.img" name="img"
                #img="ngModel">
        </div>

        <div class="form-group">
            <label for="barelSize">Taille du canon:</label>
            <input type="number" class="form-control" id="barelSize" 
                required    
                [(ngModel)]="gun.barelSize" name="barelSize"
                #barelSize="ngModel">
        </div>

        <div class="form-group">
            <label for="totalSize">Taille totale:</label>
            <input type="number" class="form-control" id="totalSize" 
                required    
                [(ngModel)]="gun.totalSize" name="totalSize"
                #totalSize="ngModel">
        </div>

        <div class="form-group">
            <label for="isForbidden">Est prohibé ?</label>
            <input type="checkbox" class="form-control" id="isForbidden" 
                required    
                [(ngModel)]="gun.isForbidden" name="isForbidden"
                #isForbidden="ngModel">
        </div>

        <div class="form-group">
            <label for="isFree">Est en vente libre ?</label>
            <input type="checkbox" class="form-control" id="isFree" 
                required    
                [(ngModel)]="gun.isFree" name="isFree"
                #isFree="ngModel">>
        </div>
        
        <button type="submit" class="btn btn-primary" 
            [disabled]="!gunForm.form.valid">
            Valider
        </button>
    </form>
</div>
<h3 *ngIf="!gun" class="center">Aucune arme à éditer </h3>